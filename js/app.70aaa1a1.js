(function(e){function t(t){for(var n,s,u=t[0],i=t[1],o=t[2],d=0,p=[];d<u.length;d++)s=u[d],Object.prototype.hasOwnProperty.call(c,s)&&c[s]&&p.push(c[s][0]),c[s]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);l&&l(t);while(p.length)p.shift()();return a.push.apply(a,o||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,u=1;u<r.length;u++){var i=r[u];0!==c[i]&&(n=!1)}n&&(a.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},c={app:0},a=[];function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],i=u.push.bind(u);u.push=t,u=u.slice();for(var o=0;o<u.length;o++)t(u[o]);var l=i;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},1783:function(e,t,r){},2577:function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("7a23"),c={class:"fade"};function a(e,t,r,a,s,u){var i=Object(n["n"])("BridgeLink"),o=Object(n["n"])("Hue");return Object(n["j"])(),Object(n["e"])("main",c,[s.store.state.user?(Object(n["j"])(),Object(n["c"])(o,{key:1})):(Object(n["j"])(),Object(n["c"])(i,{key:0}))])}var s=r("1da1"),u=(r("96cf"),r("d3b7"),r("e9c4"),r("a1e9")),i="https://discovery.meethue.com",o="hue-control",l=Object(u["k"])({id:"",address:"",user:"",url:"",apiUrl:""});function d(){return p.apply(this,arguments)}function p(){return p=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(i,{method:"GET"});case 3:if(t=e.sent,200!=t.status){e.next=13;break}return e.next=7,t.json();case 7:return r=e.sent[0],l.id=r.id,l.url="http://"+r.internalipaddress+"/api",l.user=localStorage.getItem("bridge.user"),l.user&&(l.apiUrl=l.url+"/"+l.user),e.abrupt("return",r);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](0),console.log(e.t0);case 18:return e.abrupt("return",null);case 19:case"end":return e.stop()}}),e,null,[[0,15]])}))),p.apply(this,arguments)}function f(){return b.apply(this,arguments)}function b(){return b=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(l.url,{method:"POST",body:JSON.stringify({devicetype:o})});case 3:if(t=e.sent,200!=t.status){e.next=17;break}return e.next=7,t.json();case 7:if(r=e.sent[0],console.log(r),!r.success){e.next=16;break}return l.user=r.success.username,l.apiUrl=l.url+"/"+l.user,localStorage.setItem("bridge.user",l.user),e.abrupt("return",r.success);case 16:return e.abrupt("return",null);case 17:e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](0),console.log(e.t0);case 22:return e.abrupt("return",null);case 23:case"end":return e.stop()}}),e,null,[[0,19]])}))),b.apply(this,arguments)}var h={state:Object(u["l"])(l),Discover:d,Authorize:f},j=function(e){return Object(n["l"])("data-v-9f4ac108"),e=e(),Object(n["k"])(),e},v={class:"wrapper"},O={key:0},g=j((function(){return Object(n["f"])("h2",null,"Searching Hue-Bridge",-1)})),m={key:1},k=j((function(){return Object(n["f"])("h2",null,"Hue-Bridge not found",-1)})),y={key:2},w=j((function(){return Object(n["f"])("h2",null,"Connect Hue-Bridge",-1)})),x={class:"bridge"},S=j((function(){return Object(n["f"])("div",{class:"bridge-lights"},[Object(n["f"])("div"),Object(n["f"])("div"),Object(n["f"])("div")],-1)})),R={key:0},_={key:1},L={key:3,class:"error"};function P(e,t,r,c,a,s){var u=Object(n["n"])("Spinner");return Object(n["j"])(),Object(n["e"])("div",v,["discover"==a.state?(Object(n["j"])(),Object(n["e"])("div",O,[g,Object(n["g"])(u,{class:"loading",strokeWidth:2})])):"notfound"==a.state?(Object(n["j"])(),Object(n["e"])("div",m,[k,Object(n["f"])("div",{class:"btn",onClick:t[0]||(t[0]=function(){return s.discover&&s.discover.apply(s,arguments)})},"Search again")])):"authorize"==a.state||"pair"==a.state?(Object(n["j"])(),Object(n["e"])("div",y,[w,Object(n["f"])("div",x,[S,Object(n["f"])("div",{class:"btn-pair",onClick:t[1]||(t[1]=function(){return s.pair&&s.pair.apply(s,arguments)})},["pair"==a.state?(Object(n["j"])(),Object(n["e"])("span",R,"...")):(Object(n["j"])(),Object(n["e"])("span",_,"Connect"))])])])):Object(n["d"])("",!0),a.error?(Object(n["j"])(),Object(n["e"])("div",L,Object(n["o"])(this.error),1)):Object(n["d"])("",!0)])}var z=["stroke-width"];function T(e,t,r,c,a,s){return Object(n["j"])(),Object(n["e"])("div",null,[(Object(n["j"])(),Object(n["e"])("svg",{class:"spinner-svg",viewBox:"0 0 50 50",style:Object(n["i"])({width:r.size+"px",height:r.size+"px"})},[Object(n["f"])("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none","stroke-width":r.strokeWidth},null,8,z)],4))])}r("a9e3");var A={props:{size:{type:Number,default:50},strokeWidth:{type:Number,default:5}},setup:function(){}},B=(r("9531"),r("6b0d")),C=r.n(B);const G=C()(A,[["render",T],["__scopeId","data-v-702cf84c"]]);var I=G,U={Discover:"discover",Authorize:"authorize",Pair:"pair",NotFound:"notfound"},H={name:"App",components:{Spinner:I},mounted:function(){this.discover()},data:function(){return{store:h,state:U.Discover,error:""}},methods:{discover:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.state=U.discover,t.next=3,h.Discover();case 3:r=t.sent,e.state=r?U.Authorize:U.NotFound;case 5:case"end":return t.stop()}}),t)})))()},pair:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.state=U.Pair,t.next=3,h.Authorize();case 3:r=t.sent,e.error=r?"":"Bridge Link failed. Please press the link button on your Hue-Bridge and try again.",e.state=U.Authorize;case 6:case"end":return t.stop()}}),t)})))()}}};r("d1f2");const N=C()(H,[["render",P],["__scopeId","data-v-9f4ac108"]]);var D=N,E=function(e){return Object(n["l"])("data-v-8dec1368"),e=e(),Object(n["k"])(),e},J={class:"fade"},M=E((function(){return Object(n["f"])("h2",null,"Lights",-1)})),W={class:"lights"};function F(e,t,r,c,a,s){var u=Object(n["n"])("Light");return Object(n["j"])(),Object(n["e"])("div",J,[Object(n["f"])("header",null,[M,Object(n["f"])("div",{class:"btn-refresh",onClick:t[0]||(t[0]=function(){return s.refresh&&s.refresh.apply(s,arguments)})})]),Object(n["f"])("div",W,[(Object(n["j"])(!0),Object(n["e"])(n["a"],null,Object(n["m"])(a.store.state.lights,(function(e){return Object(n["j"])(),Object(n["c"])(u,{key:e.id,data:e},null,8,["data"])})),128))])])}r("b64b"),r("159b");var q=Object(u["k"])({lights:[]});function K(){return Q.apply(this,arguments)}function Q(){return Q=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,r,n,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(h.state.apiUrl+"/lights",{method:"GET"});case 3:if(t=e.sent,200!=t.status){e.next=13;break}return e.next=7,t.json();case 7:return r=e.sent,n=[],c=Object.keys(r),c.forEach((function(e){var t=r[e];t.id=e,n.push(t)})),q.lights=n,e.abrupt("return",n);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](0),console.log(e.t0);case 18:return e.abrupt("return",null);case 19:case"end":return e.stop()}}),e,null,[[0,15]])}))),Q.apply(this,arguments)}function V(e){return X.apply(this,arguments)}function X(){return X=Object(s["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(h.state.apiUrl+"/lights/"+t,{method:"GET"});case 2:if(r=e.sent,200!=r.status){e.next=8;break}return e.next=6,r.json();case 6:return n=e.sent,e.abrupt("return",n);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e)}))),X.apply(this,arguments)}function Y(e,t){return Z.apply(this,arguments)}function Z(){return Z=Object(s["a"])(regeneratorRuntime.mark((function e(t,r){var n,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(h.state.apiUrl+"/lights/"+t+"/state",{method:"PUT",body:JSON.stringify(r)});case 2:if(n=e.sent,200!=n.status){e.next=9;break}return e.next=6,n.json();case 6:return c=e.sent,K(),e.abrupt("return",c[0]);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e)}))),Z.apply(this,arguments)}var $={state:Object(u["l"])(q),GetLights:K,GetLight:V,SetLightState:Y},ee=(r("b0c0"),{class:"light"}),te={class:"name"};function re(e,t,r,c,a,s){var u=Object(n["n"])("Toggle");return Object(n["j"])(),Object(n["e"])("div",ee,[Object(n["f"])("div",te,Object(n["o"])(this.name),1),Object(n["g"])(u,{class:"toggle",checked:this.state.on,onClick:s.toggle},null,8,["checked","onClick"])])}function ne(e,t,r,c,a,s){return Object(n["j"])(),Object(n["e"])("div",{class:Object(n["h"])({toggle:!0,disabled:0==r.enabled}),onClick:t[0]||(t[0]=function(){return e.toggle&&e.toggle.apply(e,arguments)})},[Object(n["f"])("div",{class:Object(n["h"])({switch:!0,checked:a.value})},null,2)],2)}var ce={props:["checked","enabled","locked"],setup:function(){},data:function(){return{value:this.checked}},watch:{checked:function(e){this.value=e}},methods:{}};r("9b3a");const ae=C()(ce,[["render",ne],["__scopeId","data-v-6a161d7d"]]);var se=ae,ue={components:{Toggle:se},props:{data:{type:Object,default:null}},setup:function(){},data:function(){return{name:this.data.name,state:this.data.state}},watch:{data:function(e){this.name=e.name,this.state=e.state}},methods:{toggle:function(){$.SetLightState(this.data.id,{on:!this.state.on})}}};r("75c6");const ie=C()(ue,[["render",re],["__scopeId","data-v-4339eeca"]]);var oe=ie,le={name:"App",components:{Light:oe},mounted:function(){return Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,$.GetLights();case 2:t=e.sent,console.log(t);case 4:case"end":return e.stop()}}),e)})))()},data:function(){return{store:$}},methods:{refresh:function(){$.GetLights()}}};r("8bbe");const de=C()(le,[["render",F],["__scopeId","data-v-8dec1368"]]);var pe=de,fe={name:"App",components:{BridgeLink:D,Hue:pe},data:function(){return{store:h}}};r("b1ae");const be=C()(fe,[["render",a]]);var he=be;Object(n["b"])(he).mount("#app")},"5b9c":function(e,t,r){},"5db3":function(e,t,r){},"75c6":function(e,t,r){"use strict";r("1783")},"8bbe":function(e,t,r){"use strict";r("2577")},"8bd2":function(e,t,r){},"8e69":function(e,t,r){},9531:function(e,t,r){"use strict";r("5db3")},"9b3a":function(e,t,r){"use strict";r("8e69")},b1ae:function(e,t,r){"use strict";r("5b9c")},d1f2:function(e,t,r){"use strict";r("8bd2")}});
//# sourceMappingURL=app.70aaa1a1.js.map